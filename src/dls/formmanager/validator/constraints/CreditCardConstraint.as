/* * This file is part of the FormManager package. * * @author (c) Tim Shelburne <tim@dontlookstudios.com> * * For the full copyright and license information, please view the LICENSE * file that was distributed with this source code. */ package dls.formmanager.validator.constraints {		import dls.formmanager.form.IFormElement;	import dls.formmanager.validator.constraints.IConstraint;	import dls.formmanager.validator.errors.IValidationError;	import dls.formmanager.validator.errors.ValidationError;		/*	 * A constraint that enforces a value be a valid credit card number format.	 */	public class CreditCardConstraint implements IConstraint {				public function shouldHandle(klass:String):Boolean {			return klass == "creditCard";		}				public function validate(element:IFormElement):Vector.<IValidationError> {			var errors:Vector.<IValidationError> = new <IValidationError>[];						if (element.value is String) {				if (!(element.value as String).match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/)) {					errors.push(new ValidationError(element, "Please enter a valid credit card number."));				}			}			else {				throw new TypeError("Value must be a string.");			}						return errors;		}	}	}